$grey: #ccc;
$black: #222;

#homepage-content {
  .byline {
    margin: 0 0 0 0;
    line-height: 1.5;

    a:link, a:visited {
      color:#666;
    } 

    @media(max-width: 360px) {
      font-size: 14px;
    }
  }

  .category-symbology {
    font-size: 14px;
    //p:after

    .social-foundicon-chat {
      font-size: 20px;
      display: inline-block;
      line-height: 7px;
    }

    .one-category:after {
      content: ", ";
    }

    .one-category:last-child:after {
      content: "";
    } 
  }

  .featured_video_plus iframe {
    max-width: 100%;
    max-height: 158px;

    @media(max-width: 1050px) and (min-width : 951px) {
      max-height: 134px;
    }

    @media(max-width: 950px) and (min-width : 900px) {
      max-height: 114px;
    }

    @media(max-width: 900px) and (min-width : 767px) {
      max-height: 173px;
    }

    @media(max-width: 767px) {
      max-height: none;
    }
  }

  #sidebar-featured {
    .category-symbology {
      font-size: 12px;
      margin-top: .4em;
    }
  }

  #sub-featured {
    .category-symbology {
      font-size: 13px;
      margin-top: .4em;
    }
  }  

  #top-featured {
    .category-symbology {
      font-size: 16px;
      margin-top: .6em;
    }
  }  

  article.tool {
    margin-top: 1em;
  }

  #features {

    margin-bottom: 1em;


    article {
      border-top: 1px $grey solid;
      padding: 20px 0 20px 0;
    }

    article:first-child {
      border-top: none;
      padding-top: 0px;

      @media(max-width: 767px) {
        border-top: 1px solid $black;
        padding: 14px 0 12px 0;
      }
    }

    p {
      font-size: 18px;
      margin-bottom: 0;
    }
  }

  #top-featured {
    @media (min-width: 768px) and (max-width: 900px) {
      width: 100%;
    }

    .featured_video_plus iframe {
      max-height: none;
    }

    p {
      font-size: 22px;
    }

    .byline-date {
      font-size: 22px;
    }

    .byline-author {
      font-size: 22px;
    }

    @media (max-width: 767px) {
      p {
        font-size: 18px;
      }

      .byline-date {
        font-size: 16px;
      }

      .byline-author {
        font-size: 16px;
      }

      .byline {
        margin: 0;      
      }
    }    

    .byline {
      margin: 12px 0px 4px 0px;

      @media(max-width: 360px) {
        font-size: 14px;
      }
    }
  }

  #sub-featured {
    @media (min-width: 768px) and (max-width: 900px) {
      float: none;
      position: inherit;
      width: 100%;
      display: inline-block;

      article {
        border-top: 1px solid $grey;
        display: inline-block;
        width: 49%;
      }

      article:last-child {
        float: right;
      }
    }
  }

  #sidebar-featured {
    .category-symbology {
      font-size: 12px;
    }
  }

  .discussion {
    .headline {
      background-color: #a2a2a2;
      padding: 15px;
      
      a {
        color: #fff;
      }
    }

    .byline {
      display: none;
    }
  }

  article {
    @media(max-width: 767px) {
      border-top: 1px solid $black;
      padding: 14px 0 12px 0;
    }
  }
}

// hacky
@media (min-width: 768px) and (max-width: 900px) {
  #homepage-content #features #sub-featured article:first-child {
    border-top: 1px $grey solid;
    padding: 20px 0 20px 0;
  }
}

//more hacks
@media(max-width: 767px) {
  #homepage-content #features #top-featured article:first-child {
    border-top: none;
    padding: 0 0 12px 0;
  }
}

// TODO: integrate this media query into above styles
@media(max-width: 767px) {
  #homepage-content #features #top-featured article p {
    .byline-date {
      font-size: 16px;
    }

    .byline-author {
      font-size: 16px;
    }

  }

  #sub-featured article {
      border-top: 1px solid $black;
      padding: 14px 0 12px 0;
  }

  h3.headline {
    font-size: 20px;
    margin: 0.2em 0 0 0;
  }

  h4.headline {
    font-size: 20px;
    margin: 0.3em 0 0 0;
  }

  h2.headline {
    font-size: 20px;
    margin: 0.3em 0 0.2em 0;
  }
}

#tools {
  border-top: 1px solid $grey;
  padding: 20px 0;
  margin-bottom: 1em;

  article p {
    font-size: 18px;
  }
}

#projects {
  border-top: 1px solid $grey;
  padding: 20px 0;
  margin-bottom: 1em;

  .featured_video_plus iframe {
    max-width: 100%;
    max-height: 150px;

    @media(max-width: 767px) {
      max-height: none;
    }
  }

  article p {
    font-size: 18px;
  }
}

#tools p {
  margin-bottom: 0
}


// hacky 

#sub-top-feature {
  margin-top: -0.4em;
}

#companion_overlay {
  position: absolute; 
  bottom: 0px; 
  width: 100%; 
  background-color: #222; 
  color: #fff; 
  font-size: 12px; 
  text-transform: uppercase; 
  font-family: 'proxima-nova'; 
  padding: 4px 0 4px 8px;
}

#companion {
  position: relative; margin-top: 1em
}